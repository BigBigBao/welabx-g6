/*! For license information please see 3.e34631a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{V6vp:function(e,t,n){"use strict";var a=n("q0Re");n.n(a).a},ZULT:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[n("div",{class:{hidden:e.headVisible},attrs:{id:"headPanel"}},[n("span",{staticClass:"logo"},[e._v("脑图")]),e._v(" "),n("i",{staticClass:"gb-toggle-btn",on:{click:function(t){e.headVisible=!e.headVisible}}})]),e._v(" "),n("item-panel",{attrs:{graph:e.graph},on:{"canvas-add-node":e.addNode}}),e._v(" "),n("div",{attrs:{id:"canvasPanel"},on:{dragover:function(e){e.preventDefault()}}}),e._v(" "),n("div",{class:{hidden:!e.configVisible},attrs:{id:"configPanel"}},[n("i",{staticClass:"gb-toggle-btn",on:{click:function(t){e.configVisible=!e.configVisible}}}),e._v(" "),n("h2",{staticClass:"panel-title"},[e._v("数据配置")]),e._v(" "),n("div",{staticClass:"config-data"},[e._v("\n      id: "+e._s(e.config.id)+", data: "+e._s(e.config.data)+"\n    ")]),e._v(" "),n("h2",{staticClass:"panel-title"},[e._v("节点样式配置")]),e._v(" "),n("div",{staticClass:"config-data"},[n("div",{staticClass:"config-item"},[e._v("\n        形状: "),n("select",e._l(e.nodeShapes,(function(t,a){return n("option",{key:a,domProps:{value:t.shape}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),0)]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        背景色: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.fill,expression:"node.fill"}],domProps:{value:e.node.fill},on:{input:function(t){t.target.composing||e.$set(e.node,"fill",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        边框虚线: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.lineDash,expression:"node.lineDash"}],domProps:{value:e.node.lineDash},on:{input:function(t){t.target.composing||e.$set(e.node,"lineDash",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        边框颜色: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.borderColor,expression:"node.borderColor"}],domProps:{value:e.node.borderColor},on:{input:function(t){t.target.composing||e.$set(e.node,"borderColor",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        宽: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.width,expression:"node.width"}],domProps:{value:e.node.width},on:{input:function(t){t.target.composing||e.$set(e.node,"width",t.target.value)}}}),e._v("px\n      ")]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        高: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.height,expression:"node.height"}],domProps:{value:e.node.height},on:{input:function(t){t.target.composing||e.$set(e.node,"height",t.target.value)}}}),e._v("px\n      ")])]),e._v(" "),n("h2",{staticClass:"panel-title"},[e._v("文字样式配置")]),e._v(" "),n("div",{staticClass:"config-data"},[n("div",{staticClass:"config-item"},[e._v("\n        文字: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"label"}],domProps:{value:e.label},on:{input:function(t){t.target.composing||(e.label=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        字体大小: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.labelCfg.fontSize,expression:"labelCfg.fontSize"}],domProps:{value:e.labelCfg.fontSize},on:{input:function(t){t.target.composing||e.$set(e.labelCfg,"fontSize",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"config-item"},[e._v("\n        颜色: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.labelCfg.fill,expression:"labelCfg.fill"}],domProps:{value:e.labelCfg.fill},on:{input:function(t){t.target.composing||e.$set(e.labelCfg,"fill",t.target.value)}}})])]),e._v(" "),n("button",{on:{click:function(t){e.configVisible=!1}}},[e._v("取消")]),e._v(" "),n("button",{staticClass:"save",on:{click:e.save}},[e._v("\n      保存\n    ")])]),e._v(" "),e.tooltip?n("div",{staticClass:"g6-tooltip",style:"top: "+e.top+"px; left: "+e.left+"px;"},[e._v("\n    id: "+e._s(e.tooltip)+"\n  ")]):e._e()],1)};a._withStripped=!0;n("bHtr");var o=n("qlJx"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"itemPanel",class:{hidden:e.itemVisible},attrs:{id:"itemPanel"}},[n("i",{staticClass:"iconfont icon-h-drag"}),e._v(" "),n("div",{staticClass:"icon-tool"},[n("i",{staticClass:"iconfont icon-circle",attrs:{draggable:"true","data-type":"node","data-shape":"circle-node"}}),e._v(" "),n("i",{staticClass:"iconfont icon-rect",attrs:{draggable:"true","data-type":"node","data-shape":"rect-node"}}),e._v(" "),n("i",{staticClass:"iconfont icon-ellipse",attrs:{draggable:"true","data-type":"node","data-shape":"ellipse-node"}}),e._v(" "),n("i",{staticClass:"iconfont icon-diamond",attrs:{draggable:"true","data-type":"node","data-shape":"diamond-node"}}),e._v(" "),n("i",{staticClass:"iconfont icon-model-rect",attrs:{draggable:"true","data-type":"node","data-shape":"modelRect-node"}}),e._v(" "),n("i",{staticClass:"split"}),e._v(" "),n("i",{staticClass:"gb-toggle-btn",attrs:{draggable:"true"},on:{click:function(t){e.itemVisible=!e.itemVisible}}})])])};r._withStripped=!0;n("rGqo"),n("8+KV");var i=n("dfwq"),s={name:"ItemPanel",props:{graph:{type:Object,default:function(){}}},data:function(){return{itemVisible:!1}},mounted:function(){var e=this;Object(i.a)(this.$refs.itemPanel.querySelector(".icon-tool").querySelectorAll(".iconfont")).forEach((function(t){t.addEventListener("click",(function(t){e.$emit("canvas-add-".concat(t.target.dataset.type),t)})),t.addEventListener("dragend",(function(t){e.$emit("canvas-add-".concat(t.target.dataset.type),t)}))})),document.addEventListener("drop",(function(e){e.preventDefault()}),!1)},methods:{addEdge:function(e){}}},c=n("KHd+"),d=Object(c.a)(s,r,[],!1,null,null,null);d.options.__file="src/pages/tree/ItemPanel.vue";var l={components:{ItemPanel:d.exports},data:function(){return{graph:{},highLight:{undo:!1,redo:!1},lineStyle:{type:"line",width:1},label:"",labelCfg:{fontSize:12,fill:"#fff"},node:{fill:"",lineDash:"none",borderColor:"",width:160,height:60,shape:"rect-node"},nodeShapes:[{name:"矩形",shape:"rect-node"},{name:"圆形",shape:"circle-node"},{name:"椭圆",shape:"ellipise-node"},{name:"菱形",shape:"diamond-node"}],headVisible:!1,configVisible:!1,config:"",tooltip:"",top:0,left:0,canvasOffset:{x:0,y:0},selectedItem:null}},mounted:function(){var e=this;document.title="脑图",this.$nextTick((function(){e.createGraphic(),e.initGraphEvent()}))},beforeDestroy:function(){this.graph.destroy()},methods:{createGraphic:function(){for(var e=this,t={id:"root",label:"Root",edgeStyle:{stroke:"#999"},children:[{data:{action:"初始化"},type:"modelRect-node",edgeStyle:{stroke:"#39495b"},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},logoIcon:{show:!0,x:-92,y:-8,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16},stateIcon:{show:!0,x:70,y:10,text:"",fontFamily:"iconfont",fontSize:20,style:{stroke:"#333",fill:"#fc0"}},labels:[{x:-70,y:-10,label:"标题,最长10个字符~~",labelCfg:{fill:"#666",fontSize:14,maxlength:10}},{x:-70,y:7,label:"描述,最长12个字符~~~",labelCfg:{fontSize:12,fill:"#999",maxlength:12}},{x:-70,y:24,label:"第三行,最长16个字符,超出显示省略号~~~",labelCfg:{fontSize:10,fill:"#ccc",maxlength:16}}],children:[{label:"初始化事件和生命周期和其他",labelCfg:{stroke:"#ccc",fill:"#666",maxlength:10}}]},{label:"初始化事件和生命周期和其他",labelCfg:{stroke:"#ccc",fill:"#666",maxlength:10},stateIcon:{show:!0,x:-96,y:14,text:"",fontFamily:"iconfont",fontSize:30,style:{stroke:"#999",fill:"#fc0"}},children:[{label:"初始化事件和生命周期和其他",labelCfg:{stroke:"#ccc",fill:"#666",maxlength:10}}]}]},n=0;n<11;n++)t.children.push({label:"初始化事件和生命周期和其他",labelCfg:{stroke:"#ccc",fill:"#666",maxlength:10},children:[{label:"初始化事件和生命周期和其他",labelCfg:{stroke:"#ccc",fill:"#666",maxlength:10}}]});var a=new o.a({width:window.innerWidth-40,height:window.innerHeight-40,fitCenter:!0,layout:{type:"mindmap",direction:"H",getWidth:function(){return 200},getVGap:function(){return 50},getHGap:function(){return 50}},modes:{default:["zoom-canvas","drag-canvas","canvas-event"]},defaultNode:{type:"modelRect-node",labelCfg:{fontSize:20},anchorControls:{hide:!0}},defaultEdge:{type:"hvh-h-edge",style:{radius:5,offset:15,lineWidth:3,lineAppendWidth:10}},nodeStateStyles:{"nodeState:default":{opacity:1},"nodeState:hover":{opacity:.8},"nodeState:selected":{opacity:.9}},edgeStateStyles:{"edgeState:hover":{animate:!1}},registerFactory:function(e,t){var n=new e.Minimap({size:[200,100]});return t.plugins=[n],new e.TreeGraph(t)}});this.graph=a.instance,this.graph.read(t),setTimeout((function(){e.graph.paint(),e.graph.fitView()}))},addNode:function(e){var t={text:"node",type:e.target.dataset.shape,x:e.clientX+this.canvasOffset.x-80,y:e.clientY+this.canvasOffset.y-40};this.graph.addItem("node",t)},initGraphEvent:function(){var e=this;this.graph.on("on-canvas-dragend",(function(t){e.canvasOffset.x=t.dx,e.canvasOffset.y=t.dy})),this.graph.on("after-node-selected",(function(t){if(e.configVisible=!!t,t&&t.item){var n=t.item.get("model");e.selectedItem=t.item,e.config=n,e.label=n.label,e.labelCfg={fill:n.labelCfg.fill,fontSize:n.labelCfg.fontSize},e.node={fill:n.style.fill,borderColor:n.style.stroke,lineDash:n.style.lineDash||"none",width:n.style.width,height:n.style.height,shape:n.type}}})),this.graph.on("after-edge-selected",(function(t){e.configVisible=!!t,t&&t.item&&(e.config=t.item.get("model").id,e.graph.updateItem(t.item,{style:{radius:10,lineWidth:2}}))})),this.graph.on("on-edge-mousemove",(function(t){t&&t.item&&(e.tooltip=t.item.get("model").label,e.left=t.clientX+40,e.top=t.clientY-20)})),this.graph.on("before-node-removed",(function(e){e.target;var t=e.callback;setTimeout((function(){t(!0)}),100)})),this.graph.on("after-node-dblclick",(function(e){e&&e.item})),this.graph.on("before-edge-add",(function(t){var n=t.source,a=t.target,o=t.sourceAnchor,r=t.targetAnchor;setTimeout((function(){e.graph.addItem("edge",{source:n.get("id"),target:a.get("id"),sourceAnchor:o,targetAnchor:r})}),100)}))},save:function(){this.graph.updateItem(this.selectedItem,{label:this.label}),this.configVisible=!1}}},g=(n("V6vp"),Object(c.a)(l,a,[],!1,null,null,null));g.options.__file="src/pages/tree/tree.vue";t.default=g.exports},eSmK:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".g6-tooltip{position:fixed;top:0;left:0;font-size:12px;color:#545454;-webkit-border-radius:4px;border-radius:4px;border:1px solid #e2e2e2;background-color:rgba(255,255,255,.9);-webkit-box-shadow:#aeaeae 0 0 10px;box-shadow:#aeaeae 0 0 10px;padding:10px 8px}.g6-minimap{position:absolute;right:0;bottom:0}",""]),e.exports=t},q0Re:function(e,t,n){var a=n("LboF"),o=n("eSmK");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);e.exports=o.locals||{}},qlJx:function(e,t,n){"use strict";var a=n("0iUn"),o=n("sLSF"),r=n("fD4D"),i=(n("HAE/"),n("WLL4"),n("jm62"),n("RW0V"),n("f3/d"),n("Z2Ku"),n("dRSK"),n("0l/t"),n("rGqo"),n("8+KV"),n("vYYK"));n("Vd3H");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n,a){e.attr(t),n&&n.attr(a)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hover",a=t.get("item"),o=t.getFirst().attr(),r="node"===e?a.get("originStyle"):a.get("originStyle")["edge-shape"],i=o["".concat(e,"State:").concat(n)],s=o["".concat(e,"State:default")];return"edge"===e&&s&&null==s.lineWidth&&(s.lineWidth=1),{activeStyle:i,defaultStyle:s,originStyle:r}}var g={anchorShow:function(e,t){var n=t.get("children")[0].cfg.attrs.anchorControls;if(n&&n.hide)return!1;e?t.showAnchor(t):t.clearAnchor(t)},anchorActived:function(e,t){var n=t.get("children")[0].cfg.attrs.anchorControls;if(n&&n.hide)return!1;if(e){var a=t.get("item").getModel(),o=a.anchorPoints,r=a.anchorHotsoptStyles;t.showAnchor(t),this.getAnchorPoints({anchorPoints:o}).forEach((function(e,n){var a=t.get("children")[0].getBBox(),o=t.addShape("circle",{zIndex:0,attrs:c({x:a.minX+a.width*e[0],y:a.minY+a.height*e[1],r:0,opacity:.5,fill:"#1890ff"},r),nodeId:t.get("item").get("id"),className:"node-anchor-bg",draggable:!0,isAnchor:!0,index:n});o.animate({r:11},{duration:200}),t.sort(),t.anchorShapes.push(o)})),t.anchorShapes.filter((function(e){"node-anchor"===e.get("className")&&e.toFront(),"node-anchor-group"===e.get("className")&&(e.attr({r:(r&&r.r||11)+2}),e.toFront())}))}else t.clearAnchor(t)},nodeState:function(e,t){g["nodeState:".concat(e)].call(this,e,t)},"nodeState:default":function(e,t){e&&d(t.getChildByIndex(0),l.call(this,"node",t).defaultStyle)},"nodeState:selected":function(e,t){var n=t.getChildByIndex(0),a=l.call(this,"node",t,"selected"),o=a.activeStyle,r=a.defaultStyle;o&&d(n,e?o:r)},"nodeState:hover":function(e,t){var n=t.getChildByIndex(0),a=l.call(this,"node",t,"hover"),o=a.activeStyle,r=a.defaultStyle;o&&d(n,e?o:r)},edgeState:function(e,t){g["edgeState:".concat(e)].call(this,e,t)},"edgeState:default":function(e,t){if(e){var n=l.call(this,"edge",t).defaultStyle,a=t.getChildByIndex(0);n&&(this.stopAnimate(t),d(a,n))}},"edgeState:hover":function(e,t){var n=t.getChildByIndex(0),a=n.get("attrs").endArrow,o=l.call(this,"edge",t,"hover"),r=o.activeStyle,i=o.defaultStyle,s=o.originStyle;r&&(e?!0===r.animate?this.runAnimate(t):"function"==typeof r.animate?r.animate.call(this,t):(d(n,r),a&&n.attr("endArrow",{path:a.path,fill:r.stroke||s.stroke})):!0===r.animate?this.stopAnimate(t):"function"==typeof r.animate?r.animate.call(this,t,"stop"):(d(n,i),a&&n.attr("endArrow",{path:a.path,fill:i.stroke||r.stroke||s.stroke})))},"edgeState:selected":function(e,t){var n=t.getChildByIndex(0),a=n.get("attrs").endArrow,o=l.call(this,"edge",t,"selected"),r=o.activeStyle,i=o.defaultStyle,s=o.originStyle;r&&(e?!0===r.animate?this.runAnimate(t):"function"==typeof r.animate?r.animate.call(this,t):(d(n,r),a&&n.attr("endArrow",{path:a.path,fill:r.stroke||s.stroke})):!0===r.animate?this.stopAnimate(t):"function"==typeof r.animate?r.animate.call(this,t,"stop"):(d(n,i),a&&n.attr("endArrow",{path:a.path,fill:i.stroke||r.stroke||s.stroke})))}},h=g,f=n("dfwq"),u=[],p=null;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){e.registerNode("base-node",{drawIcon:function(e,t,n){var a=n.logoIcon,o=n.stateIcon;a&&a.show&&t.addShape(a.img?"image":"text",{attrs:y(y({},a),a.style),className:"".concat(n.type,"-icon"),draggable:!0}).toFront();o&&o.show&&t.addShape(o.img?"image":"text",{attrs:y(y({},o),o.style),className:"".concat(n.type,"-icon"),draggable:!0}).toFront()},initAnchor:function(e,t){var n=this;t.anchorShapes=[],t.showAnchor=function(t){n.drawAnchor(e,t)},t.clearAnchor=function(e){e.anchorShapes&&e.anchorShapes.forEach((function(e){return e.remove()})),e.anchorShapes=[]}},drawAnchor:function(e,t){var n=t.getFirst().attr(),a=n.type,o=n.direction,r=n.anchorPointStyles,i=t.get("children")[0].getBBox(),s=this.getAnchorPoints(e);s&&s.forEach((function(e,n){var s="triangle-node"===a?"up"===o?1:0:.5,c=i.width*(e[0]-.5),d=i.height*(e[1]-s),l=t.addShape("circle",{attrs:y({x:c,y:d},r),zIndex:1,nodeId:t.get("id"),className:"node-anchor",draggable:!0,isAnchor:!0,index:n}),g=t.addShape("circle",{attrs:{x:c,y:d,r:11,fill:"#000",opacity:0},zIndex:2,nodeId:t.get("id"),className:"node-anchor-group",draggable:!0,isAnchor:!0,index:n});!function(e,t,n){e.on("mouseenter",(function(){e.attr({cursor:"crosshair"})})),e.on("dragstart",(function(e){if(null==p){var a=t.getFirst().attr(),o=a.type,r=a.direction,i="triangle-node"===o?"up"===r?1:0:.5,s=t.get("item").getBBox(),c=t.get("item").get("id"),d=[s.width*(n[0]-.5),s.height*(n[1]-i)];u=[e.x,e.y];var l=t.addShape("path",{attrs:{stroke:"#1890FF",lineDash:[5,5],path:[["M"].concat(d),["L"].concat(d)]},className:"dashed-line",pointStart:d});t.toFront(),l.toFront(),p=c}})),e.on("drag",(function(e){var n=t.getFirst().attr(),a=n.type,o=n.direction,r=t.get("children")[0].get("canvasBox"),i="triangle-node"===a?"up"===o?r.height:0:r.height/2,s=t.getItem("dashed-line"),c=s.get("pointStart"),d=[e.x-r.x-r.width/2,e.y-r.y-i];s.toFront(),Math.sqrt(Math.pow(Math.abs(u[0])-Math.abs(e.x),2)+Math.pow(Math.abs(u[1])-Math.abs(e.y),2))>=10&&(e.x>=u[0]?(e.y,u[1],d[0]-=1,d[1]-=1):(e.y,u[1],d[0]+=1,d[1]+=1)),s.attr({path:[["M"].concat(Object(f.a)(c)),["L",d[0],d[1]]]})})),e.on("dragend",(function(e){t.getItem("dashed-line").remove(),p=null})),e.on("dragenter",(function(e){if(e.target.cfg.nodeId!==p){var n=e.target.cfg.index;t.getAllAnchorBg()[n]&&t.getAllAnchorBg()[n].attr("fillOpacity",.7)}})),e.on("dragleave",(function(e){if(e.target.cfg.nodeId!==p){var n=e.target.cfg.index;t.getAllAnchorBg()[n]&&t.getAllAnchorBg()[n].attr("fillOpacity",.5)}}))}(g,t,e),t.anchorShapes.push(l),t.anchorShapes.push(g)})),t.getAllAnchors=function(){return t.anchorShapes.filter((function(e){return!0===e.get("isAnchor")}))},t.getAnchor=function(e){return t.anchorShapes.filter((function(t){return"node-anchor"===t.get("className")&&t.get("index")===e}))},t.getAllAnchorBg=function(){return t.anchorShapes.filter((function(e){return"node-anchor-bg"===e.get("className")}))}},addLabel:function(e,t,n){var a=n.label,o=n.labelCfg,r=n.labels;if(r)r.forEach((function(e){var n=e.label,a=e.labelCfg.maxlength,o=e.className,r=a?n.substr(0,a):n||"";n.length>a&&(r="".concat(r,"...")),t.addShape("text",{attrs:y(y({text:r},e),e.labelCfg),className:"node-text ".concat(o),draggable:!0})}));else if(a){var i=o.maxlength,s=i?a.substr(0,i):a||"";a.length>i&&(s="".concat(s,"...")),t.addShape("text",{attrs:y(y({text:s,x:0,y:0},a),o),className:"node-text",draggable:!0})}},drawModelRect:function(e,t){var n=t.preRect,a=t.width,o=t.height;n&&!1===n.show||e.addShape("rect",{attrs:y(y({x:-a/2,y:-o/2,height:o},{show:!0,width:4,fill:"#40a9ff",radius:2}),n),draggable:!0})},draw:function(e,t){var n=this.getShapeStyle(e,t),a=t.addShape(this.shapeType,{className:"".concat(this.shapeType,"-shape"),draggable:!0,attrs:n});return t.getItem=function(e){return t.get("children").find((function(t){return t.get("className")===e}))},"modelRect-node"===this.shapeType&&this.drawModelRect(t,n),this.addLabel(e,t,n),this.drawIcon(e,t,n),this.initAnchor(e,t),a},update:function(e,t){var n=t.get("model"),a=t.get("keyShape").attrs,o=t.get("group").getItem("node-text"),r=t.get("group").get("children")[0];setTimeout((function(){o&&o.attr({text:n.label,labelCfg:a.labelCfg}),r.attr(y(y({},a),n.style))}))},setState:function(e,t,n){var a=n.getContainer();["anchorShow","anchorActived","nodeState","nodeState:default","nodeState:selected","nodeState:hover","nodeOnDragStart","nodeOnDrag","nodeOnDragEnd"].includes(e)&&h[e].call(this,t,a)},getAnchorPoints:function(e){return e.anchorPoints||[[.5,0],[1,.5],[.5,1],[0,.5]]}},"single-node")};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){var n=Object.assign({},this.getShapeStyle(e),C({},e.edgeStateStyles));return t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n})}function j(e,t,n){var a=n.getContainer();["edgeState","edgeState:default","edgeState:selected","edgeState:hover"].includes(e)&&h[e].call(this,t,a)}function A(e){if(!this.running){this.running=!0;var t=e.get("children")[0],n=t.get("endArrowShape"),a=n?Math.max(n.get("bbox").width,n.get("bbox").height):0,o=t.getPoint(0),r=t.getTotalLength(),i=Math.floor(r/100)||1;if(!(r<=40))for(var s=0;s<i;s++){var c=setTimeout((function(){var n=e.addShape("circle",{attrs:{x:o.x,y:o.y,fill:"#1890ff",r:2},className:"edge-runner",name:"edge-runner"});n.animate((function(e){var o=t.getPoint(e),i=r-r*e>=a?1:0;return n.set("hasChanged",!1),C(C({},o),{},{opacity:i})}),{duration:r>=100?3*r:5*r,repeat:!0})}),s*r);this.runners.push(c)}}}function k(e){var t=[];e.get("children").forEach((function(e){"edge-runner"===e.get("className")&&(e.stopAnimate(),t.push(e))})),t.forEach((function(e){return e.remove()})),this.runners.forEach((function(e){clearTimeout(e)})),this.running=!1}var _=function(e){["line","polyline","quadratic","cubic","arc"].forEach((function(t){!function(e,t){e.registerEdge("".concat(t,"-edge"),{running:!1,runners:[],drawShape:P,setState:j,runAnimate:A,stopAnimate:k},t)}(e,t)})),function(e,t){e.registerEdge("hvh-edge",S({draw:function(e,t){var n=e.startPoint,a=e.endPoint,o=a.y-n.y,r={x:n.x,y:n.y>0?n.y+1:n.y-1},i={x:r.x+20,y:a.y},s={x:(r.x-n.x)*(a.y-n.y)/(r.y-n.y)+n.x,y:a.y},c=0===o?[["M",n.x,n.y],["L",a.x,a.y]]:[["M",n.x,n.y],["L",n.x+50,n.y],["L",r.x+50,r.y],["Q",s.x+50,s.y,i.x+50,i.y],["L",a.x,a.y]],d=e.sourceNode.getModel().edgeStyle,l=t.addShape("path",{attrs:S(S({path:c,stroke:"#1890FF",endArrow:!1},e.style),d),name:"hvh-edge",draggable:!0}),g=e.targetMode.getModel().note;if(g){var h=t.addShape("text",{attrs:{x:i.x+40,y:a.y-20,autoRotate:!0,text:g||"",fill:"#333",stroke:"#fff",fontSize:16},zIndex:10});t.sort(),h.toFront()}return l}},t))}(e,{running:!1,runners:[],drawShape:P,setState:j,runAnimate:A,stopAnimate:k}),function(e,t){e.registerEdge("hvh-h-edge",O({draw:function(e,t){var n=e.startPoint,a=e.endPoint,o=n.x,r=a.x,i=n.y,s=a.y,c=null;if(0===s-i)c=[["M",n.x,n.y],["L",a.x,s]];else{var d=r>o?20:-20,l=r>o?40:-40,g={x:n.x,y:n.y>0?n.y+1:n.y-1},h={x:g.x+d,y:s},f={x:(g.x-n.x)*(s-n.y)/(g.y-n.y)+n.x,y:s};c=[["M",n.x,n.y],["L",n.x+l,n.y],["L",g.x+l,g.y],["Q",f.x+l,f.y,h.x+l,h.y],["L",a.x,s]]}var u=e.sourceNode.getModel().edgeStyle,p=t.addShape("path",{attrs:O(O({path:c,stroke:"#1890FF",endArrow:!1},e.style),u),name:"hvh-edge",draggable:!0}),v=e.targetNode.getModel().note;if(v){var y=r>o?50:-80,m=t.addShape("text",{attrs:{x:n.x+(r>o?20:-20)+y,y:s-20,text:v||"",fill:"#333",fontSize:16},name:"hvh-edge-label",zIndex:10});t.sort(),m.toFront()}return p}},t))}(e,{running:!1,runners:[],drawShape:P,setState:j,runAnimate:A,stopAnimate:k})};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={width:20,height:20,x:0,y:0},M={fill:"#E7F7FE",stroke:"#1890FF",lineWidth:1},N={r:4,fill:"#fff",stroke:"#1890FF",lineWidth:1},I={cursor:"default",fill:"#666",textAlign:"center",textBaseline:"middle",fontSize:12};function L(e,t){return D(D(D(D(D(D({},t),M),e),t.style),{},{labelCfg:D(D({},I),t.labelCfg),iconStyles:D(D({},F),t.iconStyles),anchorPointStyles:D(D({},N),t.anchorPointStyles)},t.nodeStateStyles),{},{anchorHotsoptStyles:t.anchorHotsoptStyles})}var B=function(e){m(e),function(e){e.registerNode("rect-node",{shapeType:"rect",getShapeStyle:function(e){var t=e.style.width||80,n=e.style.height||40;return L.call(this,{width:t,height:n,radius:5,x:-t/2,y:-n/2},e)}},"base-node"),e.registerNode("circle-node",{shapeType:"circle",getShapeStyle:function(e){var t=e.style.r||30;return L.call(this,{r:t,x:0,y:0},e)}},"base-node"),e.registerNode("ellipse-node",{shapeType:"ellipse",getShapeStyle:function(e){return L.call(this,{rx:50,ry:30,x:0,y:0},e)}},"base-node"),e.registerNode("modelRect-node",{shapeType:"rect",getShapeStyle:function(e){var t=e.style.width||200,n=e.style.height||80;return L.call(this,{width:t,height:n,radius:5,x:-t/2,y:-n/2},e)}},"base-node"),e.registerNode("diamond-node",{shapeType:"path",getShapeStyle:function(e){var t=this.getPath(e);return L.call(this,{path:t,x:0,y:0},e)},getPath:function(e){var t=e.style.size||[100,100],n=t[0],a=t[1];return[["M",0,-a/2],["L",n/2,0],["L",0,a/2],["L",-n/2,0],["Z"]]}},"base-node"),e.registerNode("triangle-node",{shapeType:"path",getShapeStyle:function(e){var t=this.getPath(e);return L.call(this,{direction:e.direction||"up",path:t,x:0,y:0},e)},getPath:function(e){var t=e.direction||"up",n=e.style.size||[60,100],a=n[0],o=n[1],r=[["Z"]];return"up"===t?r.unshift(["M",0,-o/2],["L",-a/2,0],["L",a/2,0]):r.unshift(["M",0,o/2],["L",-a/2,0],["L",a/2,0]),r},getAnchorPoints:function(e){return e.anchorPoints||[[.5,0],[0,1],[1,1]]}},"base-node")}(e),_(e)};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){!function(e){e.registerBehavior("canvas-event",{getDefaultCfg:function(){return{originOffset:[],offset:[]}},getEvents:function(){return{"canvas:mousemove":"onCanvasMouseMove","canvas:mousedown":"onCanvasMouseDown","canvas:mouseup":"onCanvasMouseUp","canvas:dragstart":"onCanvasDragStart","canvas:dragend":"onCanvasDragEnd"}},onCanvasMouseMove:function(e){e.target.get("el").style.cursor="grab"},onCanvasMouseDown:function(e){e.target.get("el").style.cursor="grabbing"},onCanvasMouseUp:function(e){e.target.get("el").style.cursor="grab"},onCanvasDragStart:function(e){var t=e.target.cfg.el,n=+t.getAttribute("dx"),a=+t.getAttribute("dy");this.originOffset=[n,a],this.offset=[e.clientX,e.clientY]},onCanvasDragEnd:function(e){e.target.get("el").style.cursor="grab";var t=e.target.cfg.el,n=this.originOffset[0]+e.clientX-this.offset[0],a=this.originOffset[1]+e.clientY-this.offset[1];t.setAttribute("dx",n),t.setAttribute("dy",a),this.graph.emit("on-canvas-dragend",z(z({},e),{},{dx:n,dy:a}))}})}(e),function(e){e.registerBehavior("select-node",{getDefaultCfg:function(){return{multiple:!1}},getEvents:function(){return{"node:click":"onNodeClick","node:dblclick":"ondblClick","canvas:click":"onCanvasClick","node:mouseenter":"onNodeMouseEnter","node:mousemove":"onNodeMouseMove","node:mouseleave":"onNodeMouseLeave"}},onNodeClick:function(e){this._clearSelected(),e.item.toFront(),e.item.setState("nodeState","selected"),this.graph.emit("after-node-selected",e)},ondblClick:function(e){this._clearSelected(),e.item.toFront(),e.item.setState("nodeState","selected"),this.graph.emit("after-node-dblclick",e)},onCanvasClick:function(e){this._clearSelected(),this.graph.emit("on-canvas-click",e)},onNodeMouseEnter:function(e){e.item.hasState("nodeState:selected")||e.item.setState("nodeState","hover"),this.graph.emit("on-node-mouseenter",e)},onNodeMouseMove:function(e){this.graph.emit("on-node-mousemove",e)},onNodeMouseLeave:function(e){e.item.hasState("nodeState:selected")||e.item.clearStates("nodeState:hover"),this.graph.emit("on-node-mouseleave",e)},_clearSelected:function(){this.graph.findAllByState("node","nodeState:selected").forEach((function(e){e.clearStates(["nodeState:selected","nodeState:hover"])})),this.graph.findAllByState("edge","edgeState:selected").forEach((function(e){e.clearStates(["edgeState:selected","edgeState:hover"])})),this.graph.emit("after-node-selected")}})}(e),function(e){e.registerBehavior("delete-item",{getEvents:function(){return{keydown:"onKeydown"}},onKeydown:function(e){var t=this.graph;if("true"===t.cfg.canvas.cfg.el.getAttribute("isFocused")&&8===e.keyCode){var n=t.findAllByState("node","nodeState:selected");if(n&&n.length){var a=n[0].getContainer().get("item");t.emit("before-node-removed",{target:a,callback:function(e){e&&(t.remove(a),t.set("after-node-selected",[]),t.emit("after-node-selected"),t.emit("after-node-removed",a))}})}var o=t.findAllByState("edge","edgeState:selected");if(o&&o.length){var r=o[0].getContainer().get("item");t.emit("before-node-removed",{target:r,callback:function(e){e&&(t.remove(r),t.set("after-edge-selected",[]),t.emit("after-edge-selected"),t.emit("after-edge-removed",r))}})}}}})}(e),function(e){e.registerBehavior("active-edge",{getDefaultCfg:function(){return{}},getEvents:function(){return{"canvas:click":"onCanvasClick","edge:click":"onEdgeClick","edge:dblclick":"ondblEdgeClick","edge:mouseenter":"onMouseEnter","edge:mousemove":"onMouseMove","edge:mouseleave":"onMouseLeave"}},onCanvasClick:function(e){this._clearSelected()},onEdgeClick:function(e){this._clearSelected(),e.item.setState("edgeState","selected"),this.graph.emit("after-edge-selected",e)},ondblEdgeClick:function(e){this._clearSelected(),e.item.setState("edgeState","selected"),this.graph.emit("after-edge-dblclick",e)},onMouseEnter:function(e){e.item.hasState("edgeState:hover")||e.item.hasState("edgeState:selected")||e.item.setState("edgeState","hover"),this.graph.emit("on-edge-mouseenter",e)},onMouseMove:function(e){this.graph.emit("on-edge-mousemove",e)},onMouseLeave:function(e){e.item.hasState("edgeState:selected")||e.item.setState("edgeState","default"),this.graph.emit("on-edge-mouseleave",e)},_clearSelected:function(){this.graph.findAllByState("node","nodeState:selected").forEach((function(e){e.clearStates("nodeState:selected")})),this.graph.findAllByState("edge","edgeState:selected").forEach((function(e){e.clearStates("edgeState:selected")})),this.graph.emit("after-edge-selected")}})}(e),function(e){e.registerBehavior("hover-node",{getEvents:function(){return{"node:mouseenter":"onNodeEnter","node:mouseleave":"onNodeLeave"}},onNodeEnter:function(e){e.item.setState("anchorShow",!0)},onNodeLeave:function(e){e.item.setState("anchorShow",!1)}})}(e),function(e){e.registerBehavior("drag-node",{getDefaultCfg:function(){return{sourceAnchorIndex:0,dragTarget:"node",dragStartNode:{},distance:[]}},getEvents:function(){return{"node:mousedown":"onMousedown","node:mouseup":"onMouseup","node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","node:drop":"onDrop"}},onMousedown:function(e){(this._clearSelected(e),e.target.cfg.isAnchor)&&(this.dragTarget="anchor",this.dragStartNode=R(R({},e.item._cfg),{},{anchorIndex:e.target.cfg.index}),this.graph.findAll("node",(function(e){return e})).forEach((function(e){e.setState("anchorActived",!0)})));this.graph.emit("on-node-mousedown",e)},onMouseup:function(e){"anchor"===this.dragTarget&&this.graph.findAll("node",(function(e){return e})).forEach((function(e){e.clearStates("anchorActived")}));this.graph.emit("on-node-mouseup",e)},onDragStart:function(e){e.target.get("isAnchor")?this.sourceAnchorIndex=e.target.get("index"):(e.item.toFront(),this.dragTarget="node",this._nodeOnDragStart(e,e.item.getContainer())),this.graph.emit("on-node-dragstart",e)},onDrag:function(e){"node"===this.dragTarget&&this._nodeOnDrag(e,e.item.getContainer()),this.graph.emit("on-node-drag",e)},onDragEnd:function(e){var t=e.item.getContainer();"anchor"===this.dragTarget?this.graph.findAll("node",(function(e){return e})).forEach((function(e){e.clearStates("anchorActived")})):"node"===this.dragTarget&&this._nodeOnDragEnd(e,t);this.graph.emit("on-node-dragend",e)},onDrop:function(e){var t=this;if(this.dragStartNode.id&&e.target.cfg.isAnchor&&this.dragStartNode.id!==e.target.cfg.nodeId){var n=this.dragStartNode.group.get("item"),a=e.target.get("index");n.getOutEdges().find((function(e){if(e.get("sourceAnchorIndex")===t.sourceAnchorIndex&&e.get("targetAnchorIndex")===a)return!0}))||this.graph.emit("before-edge-add",{source:n,target:e.item.getContainer().get("item"),sourceAnchor:this.dragStartNode.anchorIndex,targetAnchor:e.target.cfg.index})}this.graph.emit("on-node-drop",e)},_nodeOnDragStart:function(e,t){var n=t.get("item"),a=n.get("originStyle").radius,o=n.get("currentShape"),r=n.getBBox(),i=r.width,s=r.height,c=r.centerX,d=r.centerY,l=n.get("shapeFactory")[o].shapeType,g={fillOpacity:.1,fill:"#1890FF",stroke:"#1890FF",cursor:"move",lineDash:[4,4],width:i,height:s};switch(l){case"circle":this.distance=[e.x-c,e.y-d],g=R(R({},g),{},{x:0,y:0,r:i/2});break;case"rect":this.distance=[e.x-c+i/2,e.y-d+s/2],g=R(R({},g),{},{x:-i/2,y:-s/2,r:i/2}),a&&(g.radius=a);break;case"ellipse":this.distance=[e.x-c,e.y-d],g=R(R({},g),{},{x:0,y:0,rx:i/2,ry:s/2});break;case"path":this.distance=[e.x-c,e.y-d],g.path=n.get("keyShape").attrs.path,g.size=[i,s],g.x=0,g.y=0}t.addShape(l,{className:"shadow-node",attrs:g}).toFront()},_nodeOnDrag:function(e,t){var n=t.get("item"),a=t.getFirst(),o=n.getBBox(),r=o.width,i=o.height,s=o.centerX,c=o.centerY,d=n.get("currentShape"),l=n.get("shapeFactory")[d].shapeType,g=t.getItem("shadow-node");if("path"===l){var h=a.get("attrs"),f=h.type,u=h.direction,p=e.x-s-this.distance[0],v=e.y-c-this.distance[1],y=[["Z"]];switch(f){case"diamond-node":y.unshift(["M",p,v-i/2],["L",p+r/2,v],["L",p,v+i/2],["L",p-r/2,v]);break;case"triangle-node":y.unshift(["L",p+r/2,v],["L",p-r/2,v]),"up"===u?y.unshift(["M",p,v-i]):y.unshift(["M",p,v+i])}g.attr({path:y})}else g.attr({x:e.x-s-this.distance[0],y:e.y-c-this.distance[1]});g.toFront()},_nodeOnDragEnd:function(e,t){var n=t.get("item"),a=n.getBBox(),o=a.width,r=a.height,i=t.getItem("shadow-node"),s=n.get("currentShape"),c=n.get("shapeFactory")[s].shapeType,d=t.getFirst().get("attrs"),l=d.type,g=d.direction,h={x:0,y:0};switch(c){case"ellipse":case"circle":h.x=e.x-this.distance[0],h.y=e.y-this.distance[1];break;case"rect":h.x=e.x-this.distance[0]+o/2,h.y=e.y-this.distance[1]+r/2;break;case"path":h.x=e.x-this.distance[0],h.y=e.y-this.distance[1],"triangle-node"===l&&("up"===g?h.y+=r/2:h.y-=r/2)}i.remove(),n.updatePosition(h),this.graph.refreshPositions()},_clearSelected:function(e){this.graph.findAllByState("edge","edgeState:selected").forEach((function(e){e.clearStates(["edgeState:selected","edgeState:hover"])}))}})}(e)},$=function(e){B(e),W(e)},q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),$(r.a),this.init(t),t.registerFactory}return Object(o.a)(e,[{key:"init",value:function(e){var t=Object.assign({container:"canvasPanel",width:window.innerWidth,height:window.innerHeight,fitViewPadding:20,animate:!0,animateCfg:{duration:500,easing:"easeLinear"},layout:{type:"dagre",nodesep:30,ranksep:30},modes:{default:["drag-canvas","canvas-event","delete-item","select-node","hover-node","drag-node","active-edge"]},defaultNode:{type:"rect-node",style:{radius:10}},defaultEdge:{type:"polyline-edge",style:{radius:6,offset:15,stroke:"#aab7c3",lineAppendWidth:10,endArrow:{path:"M 0,0 L 8,4 L 7,0 L 8,-4 Z",fill:"#aab7c3"}}},nodeStateStyles:{"nodeState:default":{fill:"#E7F7FE",stroke:"#1890FF"},"nodeState:hover":{fill:"#d5f1fd"},"nodeState:selected":{fill:"#caebf9",stroke:"#1890FF"}},edgeStateStyles:{"edgeState:default":{stroke:"#aab7c3"},"edgeState:selected":{stroke:"#1890FF"},"edgeState:hover":{stroke:"#1890FF"}}},e);delete t.registerFactory;var n=e.registerFactory?e.registerFactory(r.a,t):null;this.instance=n||new r.a.Graph(t);var a=this.instance.cfg.canvas.cfg.el;a.id="".concat(t.container,"-canvas"),a.setAttribute("dx",0),a.setAttribute("dy",0),document.addEventListener("click",(function(e){a.setAttribute("isFocused",e.target.id===a.id)}))}},{key:"destroy",value:function(){this.instance.destroy(),this.instance=null}}]),e}();t.a=q}}]);